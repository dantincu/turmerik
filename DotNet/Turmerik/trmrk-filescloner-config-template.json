{
  "Profiles": [
    {
      "ProfileName": "notes-blazorapp",
      "ScriptGroups": [
        {
          "WorkDir": "|$TURMERIK_REPO_DIR|\\ParcelWs-V2/apps/trmrk-notes-blazorapp",
          "OnBeforeScripts": [
            {
              "PowerShellCmd": {
                "Commands": [
                  {
                    "CommandName": "rmdirfull",
                    "CommandArguments": [ ".parcel-cache" ]
                  }
                ]
              }
            },
            {
              "PowerShellCmd": {
                "Commands": [
                  {
                    "CommandName": "rmdirfull",
                    "CommandArguments": [ "dist" ]
                  }
                ]
              }
            },
            {
              "Command": "npm",
              "Arguments": [
                "run",
                "build-dev"
              ]
            },
            {
              "Command": "npm",
              "Arguments": [
                "run",
                "build-prod"
              ]
            }
          ]
        },
        {
          "WorkDir": "|$TURMERIK_REPO_DIR|\\DotNet\\Turmerik.Notes.BlazorApp\\wwwroot",
          "OnBeforeScripts": [
            {
              "WorkDir": "./wwwroot",
              "Command": "powershell.exe",
              "Arguments": [
                "rmdirfull.ps1",
                "js"
              ]
            },
            {
              "WorkDir": "./wwwroot",
              "Command": "powershell.exe",
              "Arguments": [
                "rmdirfull.ps1",
                "trmrk-notes-config"
              ]
            }
          ]
        }
      ],
      "FileGroups": [
        {
          "WorkDir": "|$TURMERIK_REPO_DIR|\\DotNet\\Turmerik.Notes.BlazorApp",
          "CloneBaseDirLocator": {
            "EntryRelPath": "./wwwroot"
          },
          "Files": [
            {
              "InputFileLocator": {
                "EntryRelPath": "./trmrk-notes-config.json"
              },
              "CloneDirLocator": {
                "EntryRelPath": ""
              },
              "UseChecksum": true
            }
          ]
        },
        {
          "WorkDir": "|$TURMERIK_REPO_DIR|\\DotNet\\Turmerik.Notes.BlazorApp",
          "InputBaseDirLocator": {
            "EntryRelPath": "../../ParcelWs-V2/apps/trmrk-notes-blazorapp"
          },
          "CloneBaseDirLocator": {
            "EntryRelPath": "./wwwroot"
          },
          "Files": [
            {
              "InputFileLocator": {
                "EntryRelPath": "./dist/dev/index.js"
              },
              "CloneDirLocator": {
                "EntryRelPath": "./js/dev"
              },
              "UseChecksum": true,
              "CloneTplLines": [
                "{0}",
                "export const turmerik = window.turmerik;"
              ]
            },
            {
              "InputFileLocator": {
                "EntryRelPath": "./dist/prod/index.js"
              },
              "CloneDirLocator": {
                "EntryRelPath": "./js/dev"
              },
              "UseChecksum": true,
              "CloneTplLines": [
                "{0}",
                "export const turmerik = window.turmerik;"
              ]
            }
          ]
        }
      ]
    },
    {
      "ProfileName": "dotnet-util-bins",
      "FileGroups": [
        {
          "InputBaseDirLocator": {
            "EntryRelPath": "./DotNet"
          },
          "CloneBaseDirLocator": {
            "EntryPath": "|$TURMERIK_DOTNET_UTILITY_APPS_ENV_DIR|"
          },
          "CloneArchiveDirLocator": {
            "EntryPath": "|$ONEDRIVE_DIR|\\|$ONEDRIVE_TURMERIK_DOT_NET_UTILITY_APPS_ARCHIVE_RELDIR|"
          },
          "CloneArchiveFileNameTpl": "Apps[{0:yyyy-MM-dd_HH-mm-ss.fffffffK}].zip",
          "DfInputDirFilter": {
            "ExcludedRelPathRegexes": [
              "^\\/app-env-locator.json$"
            ]
          },
          "DfBeforeCloneDestnCleanupFilter": {
            "ExcludedRelPathRegexes": [
              "^\\/app-env-locator.json$",
              "^\\/_.+\\.exe"
            ]
          },
          "Dirs": [
            {
              "InputDirLocator": {
                "EntryRelPath": "Turmerik.LsFsDirsPair.ConsoleApp\\Release\\net8.0"
              },
              "CloneDirLocator": {
                "EntryRelPath": "Bin\\Turmerik.LsFsDirsPair.ConsoleApp\\Release\\net8.0"
              }
            },
            {
              "InputDirLocator": {
                "EntryRelPath": "Turmerik.MkFsDirsPair.ConsoleApp\\Release\\net8.0"
              },
              "CloneDirLocator": {
                "EntryRelPath": "Bin\\Turmerik.MkFsDirsPair.ConsoleApp\\Release\\net8.0"
              }
            },
            {
              "InputDirLocator": {
                "EntryRelPath": "Turmerik.RfDirsPairNames.ConsoleApp\\Release\\net8.0"
              },
              "CloneDirLocator": {
                "EntryRelPath": "Bin\\Turmerik.RfDirsPairNames.ConsoleApp\\Release\\net8.0"
              }
            },
            {
              "InputDirLocator": {
                "EntryRelPath": "Turmerik.UpdFsDirPairsIdxes.ConsoleApp\\Release\\net8.0"
              },
              "CloneDirLocator": {
                "EntryRelPath": "Bin\\Turmerik.UpdFsDirPairsIdxes.ConsoleApp\\Release\\net8.0"
              }
            },
            {
              "InputDirLocator": {
                "EntryRelPath": "Turmerik.Utility.WinFormsApp\\Release\\net8.0-windows"
              },
              "CloneDirLocator": {
                "EntryRelPath": "Bin\\Turmerik.Utility.WinFormsApp\\Release\\net8.0-windows"
              }
            },
            {
              "InputDirLocator": {
                "EntryRelPath": "Turmerik.FilesCloner.ConsoleApp\\Release\\net8.0"
              },
              "CloneDirLocator": {
                "EntryRelPath": "Bin\\Turmerik.FilesCloner.ConsoleApp\\Release\\net8.0"
              }
            }
          ],
          "DestnToArchiveDirs": [
            {
              "InputDirLocator": {
                "EntryPath": "|USER_PROFILE|\\AppData\\Roaming\\Turmerik\\Apps"
              },
              "CloneDirLocator": {
                "EntryPath": "|TURMERIK_TEMP_DIR|"
              },
              "InputDirFilter": {
                "IncludedRelPathRegexes": [
                  "\\/Config\\/",
                  "\\/Content\\/",
                  "\\/Data\\/"
                ]
              },
              "BeforeCloneDestnCleanupFilter": {
                "IncludedRelPathRegexes": [
                  "\\/Apps\\[\\d{4}\\-\\d{2}\\-\\d{2}_\\d{2}-\\d{2}\\-\\d{2}\\.\\d+[\\-\\+]\\d{4}\\]\\.zip"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "ProfileName": "dotnet-bkp-bins",
      "FileGroups": [
        {
          "InputBaseDirLocator": {
            "EntryRelPath": "./DotNet"
          },
          "CloneBaseDirLocator": {
            "EntryRelPath": "|$TURMERIK_DOTNET_UTILITY_APPS_ENV_DIR|"
          },
          "CloneArchiveDirLocator": {
            "EntryPath": "|$ONEDRIVE_DIR|\\|$ONEDRIVE_TURMERIK_DOT_NET_UTILITY_APPS_ARCHIVE_RELDIR|"
          },
          "CloneArchiveFileNameTpl": "Turmerik.MkFsDirsPair.ConsoleApp[{0:yyyy-MM-dd_HH-mm-ss.fffffffK}].zip",
          "DfInputDirFilter": {
            "ExcludedRelPathRegexes": [
              "^\\/app-env-locator.json$",
              "^\\/trmrk-filescloner-config.json$"
            ]
          },
          "DfBeforeCloneDestnCleanupFilter": {
            "ExcludedRelPathRegexes": [
              "^\\/app-env-locator.json$",
              "^\\/trmrk-filescloner-config.json$",
              "^\\/_.+\\.exe"
            ]
          },
          "Dirs": [
            {
              "InputDirLocator": {
                "EntryRelPath": "Turmerik.FilesCloner.ConsoleApp\\Release\\net8.0"
              },
              "CloneDirLocator": {
                "EntryRelPath": "Bin\\Turmerik.FilesCloner.CmdApp\\Release\\net8.0"
              }
            }
          ],
          "DestnToArchiveDirs": [
            {
              "InputDirLocator": {
                "EntryPath": "|$USER_PROFILE|\\AppData\\Roaming\\Turmerik\\Apps"
              },
              "CloneDirLocator": {
                "EntryPath": "|$TURMERIK_TEMP_DIR|"
              },
              "InputDirFilter": {
                "IncludedRelPathRegexes": []
              },
              "BeforeCloneDestnCleanupFilter": {
                "IncludedRelPathRegexes": [
                  "\\/Turmerik.FilesCloner.ConsoleApp\\[\\d{4}\\-\\d{2}\\-\\d{2}_\\d{2}-\\d{2}\\-\\d{2}\\.\\d+[\\-\\+]\\d{4}\\]\\.zip"
                ]
              }
            }
          ]
        }
      ]
    }
  ]
}