<trmrk-short-string-editor
  [trmrkDigitsOnly]="true"
  [trmrkInputAttrs]="{
    min: minValue.toString(),
    max: maxValue.toString(),
    step: step.toString(),
  }"
  [trmrkCharCssClassFactory]="getCharCssClass"
  [trmrkString]="value.text!"
  [trmrkFocusedCharIdx]="focusedCharIdx"
  [trmrkFocusInput]="focusInput"
  [trmrkBlurInput]="blurInput"
  [trmrkAllowInsertChar]="true"
  [trmrkAllowInsertChar]="true"
  [trmrkAllowDeleteChar]="true"
  [trmrkTrailingTemplate]="trailingTpl"
  (trmrkCharShortPressOrLeftClick)="charShortPressOrLeftClick($event)"
  (trmrkInputKeyPressed)="inputKeyPressed($event)"
  (trmrkCharDeleteBtnLongPressOrRightClick)="charDeleteBtnLongPressOrRightClick($event)"
  (trmrkCharDeleteBtnShortPressOrLeftClick)="charDeleteBtnShortPressOrLeftClick($event)"
  (trmrkCharInsertBtnLongPressOrRightClick)="charInsertBtnLongPressOrRightClick($event)"
  (trmrkCharInsertBtnShortPressOrLeftClick)="charInsertBtnShortPressOrLeftClick($event)"
  (trmrkDoneBtnTouchStartOrMouseDown)="doneBtnTouchStartOrMouseDown($event)"
></trmrk-short-string-editor>
<ng-template #trailingTpl>
  @if (maxAllowedDecimals > 0) {
  <div class="trmrk-icon-wrapper trmrk-decimal-point" (click)="moveDecimalPlaceClicked()">
    <div class="trmrk-char-btn">.</div>
  </div>
  } @if (minValue < 0) {
  <div class="trmrk-icon-wrapper trmrk-plus-minus-sign" (click)="toggleSignClicked()">
    <div class="trmrk-plus-minus-sign-wrapper">
      <div class="trmrk-char-btn">+</div>
      <div class="trmrk-char-btn">-</div>
    </div>
  </div>
  }
  <div class="trmrk-output-wrapper">
    <span class="trmrk-text">{{ isNaN(value.number ?? NaN) ? '' : value.number }}</span>
  </div>
  @if (hasError) {
  <div class="trmrk-error-wrapper">
    <span class="trmrk-text-level-error"> {{ errorMessage }} </span>
  </div>
  }
</ng-template>
