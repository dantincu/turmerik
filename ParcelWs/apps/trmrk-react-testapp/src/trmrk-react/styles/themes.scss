@import "./_mixins.scss";

.trmrk-panel-header,
.trmrk-panel-footer {
  .trmrk-app-bar {
    color: var(--trmrk_foreground-color);

    .trmrk-icon-btn {
      color: var(--trmrk_foreground-color);
    }
  }
}

.trmrk-theme-dark {
  color: var(--trmrk_foreground-color);
  
  .trmrk-icon-btn {
    color: var(--trmrk_foreground-color);
  }

  .trmrk-nav-link {
    color: var(--trmrk-nav-link_foreground-color);
  }

  .trmrk-nav-link:visited {
    color: var(--trmrk-nav-link-visited_foreground-color);
  }

  .trmrk-scrollable {
    @include scrollable(
      var(--trmrk-scrollable-track_color_dark),
      var(--trmrk-scrollable-thumb_color_dark),
      var(--trmrk-scrollable-track-hover_color_dark),
      var(--trmrk-scrollable-thumb-hover_color_dark));
  }

  &.trmrk-scrollable {
    @include scrollable(
      var(--trmrk-scrollable-track_color_dark),
      var(--trmrk-scrollable-thumb_color_dark),
      var(--trmrk-scrollable-track-hover_color_dark),
      var(--trmrk-scrollable-thumb-hover_color_dark));
  }

  .trmrk-resizable-panel.trmrk-border-alpha-25 {
    @include resizable-panel-colors(var(
      --trmrk-resizable-panel-border-alpha25_color_dark));
  }

  .trmrk-resizable-panel.trmrk-border-alpha-50 {
    @include resizable-panel-colors(var(
      --trmrk-resizable-panel-border-alpha50_color_dark));
  }
}

.trmrk-theme-light {
  .trmrk-scrollable {
    @include scrollable(
      var(--trmrk-scrollable-track_color_light),
      var(--trmrk-scrollable-thumb_color_light),
      var(--trmrk-scrollable-track-hover_color_light),
      var(--trmrk-scrollable-thumb-hover_color_light));
  }

  &.trmrk-scrollable {
    @include scrollable(
      var(--trmrk-scrollable-track_color_light),
      var(--trmrk-scrollable-thumb_color_light),
      var(--trmrk-scrollable-track-hover_color_light),
      var(--trmrk-scrollable-thumb-hover_color_light));
  }

  .trmrk-resizable-panel.trmrk-border-alpha-25 {
    @include resizable-panel-colors(var(
      --trmrk-resizable-panel-border-alpha25_color_light));
  }

  .trmrk-resizable-panel.trmrk-border-alpha-50 {
    @include resizable-panel-colors(var(
      --trmrk-resizable-panel-border-alpha50_color_light));
  }
}

.trmrk-theme-dark {
  .trmrk-app-bar-toggle-icon {
    background-image: linear-gradient(
      var(--trmrk-app-bar_background-gradient-from_color_dark),
      var(--trmrk-app-bar_background-gradient-from_color_dark));

    background-color: var(--trmrk-app-bar_background-color_dark);
  }

  .trmrk-textarea-autosize {
    background-color: inherit;
    color: var(--trmrk_foreground-color);
  }

  &.trmrk-page-panel {
    .trmrk-flex-rows-group {
      border: 1px solid var(--trmrk-page-panel-rows-group-border_color_dark);

      &.trmrk-editable {
        border: 2px solid var(--trmrk-page-panel-rows-group-editable-border_color_dark);
      }

      &:hover {
        background-color: var(--trmrk-page-panel-rows-group-hover_background-color_dark);
      }
    }

    .trmrk-flex-row {
      .trmrk-cell {
        .trmrk-title {
          color: var(----trmrk-flex-row-cell-title_color_dark);
        }

        .trmrk-readonly {
          background-color: var(--trmrk-flex-row-readonly-textbox_background-color_dark);
        }
      }
    }
  }

  &.trmrk-textbox-magnifier {
    .trmrk-text {
      border: 1px solid var(--trmrk-textbox-magnifier-border_color_dark);
    }
  }
}

.trmrk-theme-light {
  .trmrk-app-bar-toggle-icon, .trmrk-app-bar-toggle-icon:hover {
    color: var(--trmrk_foreground-color);
    background-color: var(--trmrk-app-bar_background-color_light);
  }

  .trmrk-textarea-autosize {
    background-color: inherit;
    color: inherit;
  }

  &.trmrk-page-panel {
    .trmrk-flex-rows-group {
      border: 1px solid var(--trmrk-page-panel-rows-group-border_color_light);

      &.trmrk-editable {
        border: 2px solid var(--trmrk-page-panel-rows-group-editable-border_color_light);
      }

      &:hover {
        background-color: var(--trmrk-page-panel-rows-group-hover_background-color_light);
      }
    }

    .trmrk-flex-row {
      .trmrk-cell {
        .trmrk-title {
          color: var(----trmrk-flex-row-cell-title_color_light);
        }

        .trmrk-readonly {
          background-color: var(--trmrk-flex-row-readonly-textbox_background-color_light);
        }
      }
    }
  }

  &.trmrk-textbox-magnifier {
    .trmrk-text {
      border: 1px solid var(--trmrk-textbox-magnifier-border_color_light);
    }
  }
}

@keyframes trmrk-theme-dark_text-input-caret-positioner-animator-none {
  from {
    background: repeating-linear-gradient(to right,
      var(--trmrk-text-input-caret-positioner-border_color_dark) 0px,
      var(--trmrk-text-input-caret-positioner-border_color_dark) 100vw);
  }

  to {
    background: repeating-linear-gradient(to right,
      var(--trmrk-text-input-caret-positioner-border_color_dark) 0px,
      var(--trmrk-text-input-caret-positioner-border_color_dark) 100vw);
  }
}

@keyframes trmrk-theme-light_text-input-caret-positioner-animator-none {
  from {
    background: repeating-linear-gradient(to right,
      var(--trmrk-text-input-caret-positioner-border_color_light) 0px,
      var(--trmrk-text-input-caret-positioner-border_color_light) 100vw);
  }

  to {
    background: repeating-linear-gradient(to right,
      var(--trmrk-text-input-caret-positioner-border_color_light) 0px,
      var(--trmrk-text-input-caret-positioner-border_color_light) 100vw);
  }
}

@keyframes trmrk-theme-dark_text-input-caret-positioner-animator-pressed {
  from {
    background-color: var(--trmrk-text-input-caret-positioner-border_color_dark);
  }

  to {
    background-color: var(--trmrk-app-bar_background-color_dark);
  }
}

@keyframes trmrk-theme-light_text-input-caret-positioner-animator-pressed {
  from {
    background-color: var(--trmrk-text-input-caret-positioner-border_color_light);
  }

  to {
    background-color: var(--trmrk-app-bar_background-color_light);
  }
}

.trmrk-theme-dark .trmrk-text-input-caret-positioner-popover {
  background-image: linear-gradient(
    var(--trmrk-app-bar_background-gradient-from_color_dark),
    var(--trmrk-app-bar_background-gradient-from_color_dark));

  background-color: var(--trmrk-app-bar_background-color_dark);

  .trmrk-popover-top-border,
  .trmrk-popover-bottom-border {
    background-color: var(--trmrk-text-input-caret-positioner-border_color_dark);

    .trmrk-animator {
      &.trmrk-long-pressed {
        /* background-image: linear-gradient(
          var(--trmrk-app-bar_background-gradient-from_color_dark),
          var(--trmrk-app-bar_background-gradient-from_color_dark));

        background-color: var(--trmrk-app-bar_background-color_dark); */

        animation-name: trmrk-theme-dark_text-input-caret-positioner-animator-pressed;
        animation-duration: 0.2s;
        animation-timing-function: steps(10);
      }
      
      &.trmrk-anchor-left {
        background: repeating-linear-gradient(to right,
          var(--trmrk-text-input-caret-positioner-border-animator_color_dark) 0px,
          var(--trmrk-text-input-caret-positioner-border-animator_color_dark) 1.25em,
          var(--trmrk-text-input-caret-positioner-border_color_dark) 1.25em,
          var(--trmrk-text-input-caret-positioner-border_color_dark) 25vw);

        &.trmrk-slide-once-speed-x1 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x1-anchor-left,
            trmrk-theme-dark_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }

        &.trmrk-slide-once-speed-x2 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x2-anchor-left,
            trmrk-theme-dark_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }

        &.trmrk-slide-once-speed-x3 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x3-anchor-left,
            trmrk-theme-dark_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }
      }

      &.trmrk-anchor-right {
        background: repeating-linear-gradient(to left,
          var(--trmrk-text-input-caret-positioner-border-animator_color_dark) 0px,
          var(--trmrk-text-input-caret-positioner-border-animator_color_dark) 1.25em,
          var(--trmrk-text-input-caret-positioner-border_color_dark) 1.25em,
          var(--trmrk-text-input-caret-positioner-border_color_dark) 25vw);

        &.trmrk-slide-once-speed-x1 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x1-anchor-right,
            trmrk-theme-dark_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }

        &.trmrk-slide-once-speed-x2 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x2-anchor-right,
            trmrk-theme-dark_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }

        &.trmrk-slide-once-speed-x3 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x3-anchor-right,
            trmrk-theme-dark_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }
      }
    }
  }

  .trmrk-selection-is-enabled {
    background-color: var(--trmrk-text-input-caret-positioner-border_color_dark);
  }
}

.trmrk-theme-light .trmrk-text-input-caret-positioner-popover {
    background-color: var(--trmrk-app-bar_background-color_light);

  .trmrk-popover-top-border,
  .trmrk-popover-bottom-border {
    background-color: var(--trmrk-text-input-caret-positioner-border_color_light);

    .trmrk-animator {
      &.trmrk-long-pressed {
        /* background-color: var(--trmrk-app-bar_background-color_light); */
        
        animation-name: trmrk-theme-light_text-input-caret-positioner-animator-pressed;
        animation-duration: 0.2s;
        animation-timing-function: steps(10);
      }
      
      &.trmrk-anchor-left {
        background: repeating-linear-gradient(to right,
          var(--trmrk-text-input-caret-positioner-border-animator_color_light) 0px,
          var(--trmrk-text-input-caret-positioner-border-animator_color_light) 1.25em,
          var(--trmrk-text-input-caret-positioner-border_color_light) 1.25em,
          var(--trmrk-text-input-caret-positioner-border_color_light) 25vw);

        &.trmrk-slide-once-speed-x1 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x1-anchor-left,
            trmrk-theme-light_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }

        &.trmrk-slide-once-speed-x2 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x2-anchor-left,
            trmrk-theme-light_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }

        &.trmrk-slide-once-speed-x3 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x3-anchor-left,
            trmrk-theme-light_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }
      }

      &.trmrk-anchor-right {
        background: repeating-linear-gradient(to left,
          var(--trmrk-text-input-caret-positioner-border-animator_color_light) 0px,
          var(--trmrk-text-input-caret-positioner-border-animator_color_light) 1.25em,
          var(--trmrk-text-input-caret-positioner-border_color_light) 1.25em,
          var(--trmrk-text-input-caret-positioner-border_color_light) 25vw);

        &.trmrk-slide-once-speed-x1 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x1-anchor-right,
            trmrk-theme-light_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }

        &.trmrk-slide-once-speed-x2 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x2-anchor-right,
            trmrk-theme-light_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }

        &.trmrk-slide-once-speed-x3 {
          animation-name: trmrk_text-input-caret-positioner-slide-once-x3-anchor-right,
            trmrk-theme-light_text-input-caret-positioner-animator-none;

          animation-delay: 0s, 0.1s;
          animation-duration: 0.1s, 0.001s;

          animation-timing-function: steps(10), steps(10);
          animation-fill-mode: forwards, forwards;
        }
      }
    }
  }

  .trmrk-selection-is-enabled {
    background-color: var(--trmrk-text-input-caret-positioner-border_color_light);
  }
}
