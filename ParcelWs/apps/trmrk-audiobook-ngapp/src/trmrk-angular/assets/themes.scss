@use "./mixins.scss" as mixins;

:is(.trmrk-app-theme-light,
  .trmrk-app-theme-dark)
  :is(.trmrk-btn.trmrk-btn-filled-primary,
  .trmrk-btn.trmrk-btn-filled-secondary,
  .trmrk-btn.trmrk-btn-filled-accept,
  .trmrk-btn.trmrk-btn-filled-reject) {
  color: #FFF;
}

:is(.trmrk-app-theme-light,
  .trmrk-app-theme-dark)
  :is(.trmrk-btn.trmrk-btn-filled-warn) {
  color: #000;
}

:is(.trmrk-app-theme-light,
  .trmrk-app-theme-dark)
  :is(.trmrk-icon-btn-filled-primary,
    .trmrk-icon-btn-filled-secondary,
    .trmrk-icon-btn-filled-accept,
    .trmrk-icon-btn-filled-reject) {
  color: #FFF;

  &[mat-icon-button].trmrk-icon-btn {
    mat-icon.trmrk-icon {
      color: #FFF;
    }
  }
}

:is(.trmrk-app-theme-light,
  .trmrk-app-theme-dark)
  :is(.trmrk-icon-btn-filled-warn) {
  color: #000;

  &[mat-icon-button].trmrk-icon-btn {
    mat-icon.trmrk-icon {
      color: #000;
    }
  }
}

:root {
  --trmrk-primary-color-theme-light: #04F;
  --trmrk-primary-color-theme-dark: #48F;
  --trmrk-primary-back-color: #04F;
  --trmrk-secondary-color-theme-light: #667;
  --trmrk-secondary-color-theme-dark: #AAA;
  --trmrk-secondary-back-color: #444;
  --trmrk-accept-color-theme-light: #090;
  --trmrk-accept-color-theme-dark: #090;
  --trmrk-accept-back-color: #090;
  --trmrk-reject-color-theme-light: #E10;
  --trmrk-reject-color-theme-dark: #F20;
  --trmrk-reject-back-color: #E10;
  --trmrk-warn-color-theme-light: #970;
  --trmrk-warn-color-theme-dark: #DB0;
  --trmrk-warn-back-color: #FD0;
}

:is(.trmrk-app-theme-light,
  .trmrk-app-theme-dark) {
  .trmrk-icon-btn-filled-primary, .trmrk-btn-filled-primary, .trmrk-background-color-primary {
    background-color: var(--trmrk-primary-back-color);
  }

  .trmrk-icon-btn-filled-secondary, .trmrk-btn-filled-secondary, .trmrk-background-color-secondary {
    background-color: var(--trmrk-secondary-back-color);
  }

  .trmrk-icon-btn-filled-accept, .trmrk-btn-filled-accept, .trmrk-background-color-accept {
    background-color: var(--trmrk-accept-back-color);
  }

  .trmrk-icon-btn-filled-reject, .trmrk-btn-filled-reject, .trmrk-background-color-reject {
    background-color: var(--trmrk-reject-back-color);
  }

  .trmrk-icon-btn-filled-warn, .trmrk-btn-filled-warn, .trmrk-background-color-warn {
    background-color: var(--trmrk-warn-back-color);
  }
}

.trmrk-app-theme-light {
  .trmrk-icon-btn-filled-default, .trmrk-btn.trmrk-btn-filled-default {
    background-color: #000;
    color: #FFF;

    &[mat-icon-button].trmrk-icon-btn {
      mat-icon.trmrk-icon {
        color: #FFF;
      }
    }
  }

  .trmrk-color-primary {
    color: var(--trmrk-primary-color-theme-light);
  }

  .trmrk-text-level-info {
    color: var(--trmrk-primary-color-theme-light);
  }

  .trmrk-color-secondary {
    color: var(--trmrk-secondary-color-theme-light);
  }

  .trmrk-color-accept {
    color: var(--trmrk-accept-color-theme-light);
  }

  .trmrk-color-warn {
    color: var(--trmrk-warn-color-theme-light);
  }

  .trmrk-text-level-warning {
    color: var(--trmrk-warn-color-theme-light);
  }

  .trmrk-color-reject {
    color: var(--trmrk-reject-color-theme-light);
  }

  .trmrk-text-level-error {
    color: var(--trmrk-reject-color-theme-light);
  }

  .trmrk-required-text {
    color: var(--trmrk-reject-color-theme-light);
  }

  .trmrk-user-message {
    [mat-icon-button].trmrk-icon-btn {
      background-color: #0002;
    }

    &.trmrk-success {
      background-color: var(--trmrk-user-message-success_back-color_light);
      border-color: var(--trmrk-user-message-success_border-color_light);

      .trmrk-arrow {
        .trmrk-arrow-body {
          stroke: var(--trmrk-user-message-success_back-color_light);
          fill: var(--trmrk-user-message-success_back-color_light);
        }

        .trmrk-arrow-border {
          stroke: var(--trmrk-user-message-success_border-color_light);
        }
      }
    }

    &.trmrk-info {
      background-color: var(--trmrk-user-message-info_back-color_light);
      border-color: var(--trmrk-user-message-info_border-color_light);

      .trmrk-arrow {
        .trmrk-arrow-body {
          stroke: var(--trmrk-user-message-info_back-color_light);
          fill: var(--trmrk-user-message-info_back-color_light);
        }

        .trmrk-arrow-border {
          stroke: var(--trmrk-user-message-info_border-color_light);
        }
      }
    }

    &.trmrk-warn {
      background-color: var(--trmrk-user-message-warn_back-color_light);
      border-color: var(--trmrk-user-message-warn_border-color_light);

      .trmrk-arrow {
        .trmrk-arrow-body {
          stroke: var(--trmrk-user-message-warn_back-color_light);
          fill: var(--trmrk-user-message-warn_back-color_light);
        }

        .trmrk-arrow-border {
          stroke: var(--trmrk-user-message-warn_border-color_light);
        }
      }
    }

    &.trmrk-error {
      background-color: var(--trmrk-user-message-error_back-color_light);
      border-color: var(--trmrk-user-message-error_border-color_light);

      .trmrk-arrow {
        .trmrk-arrow-body {
          stroke: var(--trmrk-user-message-error_back-color_light);
          fill: var(--trmrk-user-message-error_back-color_light);
        }

        .trmrk-arrow-border {
          stroke: var(--trmrk-user-message-error_border-color_light);
        }
      }
    }
  }

  &.trmrk-scrollable, .trmrk-scrollable, .trmrk-horiz-scrollable-strip {
    @include mixins.scrollableLight();
  }

  [mat-icon-button].trmrk-icon-btn, .trmrk-icon-btn, .trmrk-custom-svg-icon-btn, .trmrk-custom-svg-icon-wrapper, .trmrk-icon-link, [mat-button].trmrk-icon-link {
    mat-icon.trmrk-icon, svg[trmrk-custom-svg-icon] {
      color: #000;
      fill: #000;
    }
  }

  .trmrk-form-section {
    background-color: #FFFFFF;

    &.trmrk-nesting-level-odd {
      background-color: #EEEEEE;
    }
  }

  .trmrk-form-node {
    :is(option, mat-option).trmrk-has-no-value {
      background-color: #EEEEEE;
    }
  }

  .trmrk-vert-resize-strip {
    background: repeating-linear-gradient(
      45deg,
      rgba(0, 0, 0, 0.3), /* Transparent stripe */
      rgba(0, 0, 0, 0.3) 10px,
      rgba(255, 255, 255, 0) 10px, /* Fully transparent stripe */
      rgba(255, 255, 255, 0) 20px
    );
  }

  .trmrk-accelerating-scroll-popover {
    .trmrk-scroll-pad {
      background-color: rgba(0, 0, 0, 0.125);

      &.trmrk-is-focused {
        background-color: rgba(0, 0, 0, 0.25);
      }

      [mat-icon-button].trmrk-icon-btn.trmrk-cancel-icon-btn {
        border-color: #000;
      }

      .trmrk-cancel-icon-btn-highlighter {
        border-color: var(--trmrk-reject-color);
      }
    }
  }

  .trmrk-horiz-strip {
    &.trmrk-error-message-horiz-strip {
      .trmrk-text-row {
        color: var(--trmrk-reject-color-theme-light);
      }
    }
  }
}

.trmrk-app-theme-dark {
  background-color: #000;
  color: #fff;

  input.trmrk-input {
    background-color: #000;
    color: #fff;
  }

  select.trmrk-select.trmrk-select {
    background-color: #000;
    color: #fff;

    option {
    background-color: #000;
    color: #fff;
    }
  }

  .trmrk-icon-btn-filled-default.trmrk-icon-btn-filled-default, .trmrk-btn-filled-default.trmrk-btn-filled-default {
    background-color: #FFF;
    color: #000;

    &[mat-icon-button].trmrk-icon-btn {
      mat-icon.trmrk-icon {
        color: #000;
      }
    }
  }

  .trmrk-color-primary {
    color: var(--trmrk-primary-color-theme-dark);
  }

  .trmrk-text-level-info {
    color: var(--trmrk-primary-color-theme-dark);
  }

  .trmrk-color-secondary {
    color: var(--trmrk-secondary-color-theme-dark);
  }

  .trmrk-color-accept {
    color: var(--trmrk-accept-color-theme-dark);
  }

  .trmrk-color-warn {
    color: var(--trmrk-warn-color-theme-dark);
  }

  .trmrk-text-level-warning {
    color: var(--trmrk-warn-color-theme-dark);
  }

  .trmrk-color-reject {
    color: var(--trmrk-reject-color-theme-dark);
  }

  .trmrk-text-level-error {
    color: var(--trmrk-reject-color-theme-dark);
  }

  .trmrk-required-text {
    color: var(--trmrk-reject-color-theme-dark);
  }

  .trmrk-user-message {
    [mat-icon-button].trmrk-icon-btn {
      background-color: #FFF2;
    }

    &.trmrk-success {
      background-color: var(--trmrk-user-message-success_back-color_dark);
      border-color: var(--trmrk-user-message-success_border-color_dark);

      .trmrk-arrow {
        .trmrk-arrow-body {
          stroke: var(--trmrk-user-message-success_back-color_dark);
          fill: var(--trmrk-user-message-success_back-color_dark);
        }

        .trmrk-arrow-border {
          stroke: var(--trmrk-user-message-success_border-color_dark);
        }
      }
    }

    &.trmrk-info {
      background-color: var(--trmrk-user-message-info_back-color_dark);
      border-color: var(--trmrk-user-message-info_border-color_dark);

      .trmrk-arrow {
        .trmrk-arrow-body {
          stroke: var(--trmrk-user-message-info_back-color_dark);
          fill: var(--trmrk-user-message-info_back-color_dark);
        }

        .trmrk-arrow-border {
          stroke: var(--trmrk-user-message-info_border-color_dark);
        }
      }
    }

    &.trmrk-warn {
      background-color: var(--trmrk-user-message-warn_back-color_dark);
      border-color: var(--trmrk-user-message-warn_border-color_dark);

      .trmrk-arrow {
        .trmrk-arrow-body {
          stroke: var(--trmrk-user-message-warn_back-color_dark);
          fill: var(--trmrk-user-message-warn_back-color_dark);
        }

        .trmrk-arrow-border {
          stroke: var(--trmrk-user-message-warn_border-color_dark);
        }
      }
    }

    &.trmrk-error {
      background-color: var(--trmrk-user-message-error_back-color_dark);
      border-color: var(--trmrk-user-message-error_border-color_dark);

      .trmrk-arrow {
        .trmrk-arrow-body {
          stroke: var(--trmrk-user-message-error_back-color_dark);
          fill: var(--trmrk-user-message-error_back-color_dark);
        }

        .trmrk-arrow-border {
          stroke: var(--trmrk-user-message-error_border-color_dark);
        }
      }
    }
  }

  &.trmrk-scrollable, .trmrk-scrollable, .trmrk-horiz-scrollable-strip {
    @include mixins.scrollableDark();
  }

  [mat-icon-button].trmrk-icon-btn, .trmrk-icon-btn, .trmrk-custom-svg-icon-btn, .trmrk-custom-svg-icon-wrapper, .trmrk-icon-link, [mat-button].trmrk-icon-link {
    mat-icon.trmrk-icon, svg[trmrk-custom-svg-icon] {
      color: #fff;
      fill: #fff;
    }
  }

  .trmrk-form-section {
    background-color: #000000;

    &.trmrk-nesting-level-odd {
      background-color: #111111;
    }
  }

  .trmrk-form-node {
    :is(option, mat-option).trmrk-has-no-value {
      background-color: #111111;
    }
  }

  .trmrk-vert-resize-strip {
    background: repeating-linear-gradient(
      45deg,
      rgba(255, 255, 255, 0.3), /* Transparent stripe */
      rgba(255, 255, 255, 0.3) 10px,
      rgba(0, 0, 0, 0) 10px, /* Fully transparent stripe */
      rgba(0, 0, 0, 0) 20px
    );
  }

  .trmrk-accelerating-scroll-popover {
    .trmrk-scroll-pad {
      background-color: rgba(255, 255, 255, 0.125);

      &.trmrk-is-focused {
        background-color: rgba(255, 255, 255, 0.25);
      }

      [mat-icon-button].trmrk-icon-btn.trmrk-cancel-icon-btn {
        border-color: #FFF;
      }

      .trmrk-cancel-icon-btn-highlighter {
        border-color: var(--trmrk-reject-color);
      }
    }
  }

  .trmrk-horiz-strip {
    &.trmrk-error-message-horiz-strip {
      .trmrk-text-row {
        color: var(--trmrk-reject-color-theme-dark);
      }
    }
  }
}
