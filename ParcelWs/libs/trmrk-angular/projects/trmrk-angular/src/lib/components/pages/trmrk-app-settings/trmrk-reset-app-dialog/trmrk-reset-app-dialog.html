<trmrk-dialog
  [trmrkData]="
    mergeDialogData(data, {
      title: isResetting
        ? 'Resetting the app...'
        : showErrorMessage
        ? 'App Reset Error'
        : resetFinished
        ? 'App Reset'
        : 'Reset App',
      contentTemplate: content,
      actionsTemplate: actions
    })
  "
></trmrk-dialog>
<ng-template #content
  >@if (isResetting) { <trmrk-loading></trmrk-loading> } @if (!isResetting) { @if (showErrorMessage)
  {
  <h3 class="trmrk-text-level-error">An error occurred while resetting the app:</h3>
  <p class="trmrk-text-level-error">{{ errorMessage }}</p>
  } @if (!showErrorMessage && resetFinished) {
  <h3 class="trmrk-color-accept">The app has been reset.</h3>
  } }</ng-template
>
<ng-template #actions
  >@if (resetFinished) {
  <button mat-button class="trmrk-btn trmrk-btn-filled-primary" (click)="okClick()">OK</button>
  }</ng-template
>
