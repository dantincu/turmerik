<trmrk-app-page
  [trmrkPageTemplate]="page"
  [trmrkAppBarTitle]="trmrkResetAppService.isResetting ? 'Resetting the app...' : 'App Reset'"
></trmrk-app-page>

<ng-template #page>
  @if (trmrkResetAppService.showTopHorizStrip) {
  <trmrk-horiz-strip
    [trmrkCssClass]="['trmrk-top-message-horiz-strip trmrk-has-border-x2']"
    [trmrkLeadingTemplate]="topHorizStripLeadingTemplate"
  ></trmrk-horiz-strip>
  }
  <div class="trmrk-page-body trmrk-page-body-thin">
    @if (!trmrkResetAppService.isResetting) {
    <a
      mat-button
      mat-button
      class="trmrk-btn"
      [routerLink]="
        trmrkResetAppService.router.createUrlTree([], { queryParams: { reset: 'true' } })
      "
      >Reset</a
    >
    }
  </div>
</ng-template>

<ng-template #topHorizStripLeadingTemplate>
  @if (trmrkResetAppService.isResetting) {
  <trmrk-loading></trmrk-loading>
  }
  <trmrk-user-message
    class="trmrk-app-reset-success-message"
    [trmrkMessage]="'The app has been reset'"
    [trmrkShow]="trmrkResetAppService.showSuccessMessage"
    [trmrkLevel]="0"
    (trmrkClose)="trmrkResetAppService.successMessageClose()"
  ></trmrk-user-message>
</ng-template>
