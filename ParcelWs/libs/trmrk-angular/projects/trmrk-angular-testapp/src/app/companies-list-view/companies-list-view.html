<trmrk-list-view
  [trmrkEntities]="entities"
  [trmrkRowsSelectionIsAllowed]="true"
  [trmrkSelectedRowsReorderIsAllowed]="true"
  [trmrkSelectedRowsReorderAggRowVertIsOriented]="true"
  [trmrkListItems]="getListItems"
  [trmrkVisuallyMovingListItems]="getCurrentlyMovingListItems"
  (trmrkRowsUpdated)="rowsUpdated($event)"
  (trmrkPanelListService)="onPanelListService($event)"
  [trmrkRowMenuTemplate]="rowMenuTemplate"
  [trmrkRowTemplate]="rowTemplate"
  [trmrkVisuallyMovingRowTemplate]="visuallyMovingRowTemplate"
></trmrk-list-view>

<ng-template #rowMenuTemplate>
  <span class="trmrk-menu-item">Some action</span>
</ng-template>

<ng-template #rowTemplate let-row="row" let-idx="idx">
  @if (panelListService) {
  <trmrk-panel-list-item
    #listItems
    [trmrkMainText]="row.item.data.name"
    [ngClass]="['trmrk-list-item']"
    [trmrkCssClass]="[row.item.isFocused ? 'trmrk-has-border-x2' : '']"
    [trmrkLeadingMatIconName]="'description'"
    [trmrkIsSelectable]="panelListService.rowsAreSelectable"
    [trmrkIsSelected]="row.item.isSelected"
    [trmrkIsFocused]="row.item.isFocused"
    (trmrkCheckBoxToggled)="panelListService.rowCheckBoxToggled($event, idx)"
    (trmrkLeadingBtnLongPressOrRightClick)="panelListService.rowIconLongPressOrRightClick($event, idx)"
    (trmrkLeadingIconBtnMouseDownOrTouchStart)="panelListService.rowIconMouseDownOrTouchStart($event, idx)"
    trmrkTouchStartOrMouseDownD
    (trmrkTouchStartOrMouseDown)="panelListService.rowMouseDownOrTouchStart($event, idx)"
    [trmrkInputData]="{id: row.item.data.id}"
  ></trmrk-panel-list-item>
  }
</ng-template>

<ng-template #visuallyMovingRowTemplate let-row="row" let-idx="idx">
  @if (panelListService) {
  <trmrk-panel-list-item
    #currentlyMovingListItems
    [trmrkMainText]="row.item!.data.name"
    [ngClass]="['trmrk-list-item trmrk-floating-list-item', panelListService.showVisuallyMovingRows ? '' : 'trmrk-hidden']"
    [trmrkLeadingMatIconName]="'description'"
    [trmrkIsSelectable]="true"
    [trmrkIsSelected]="true"
    [trmrkInputData]="{id: row.item.data.id}"
  ></trmrk-panel-list-item>
  }
</ng-template>
