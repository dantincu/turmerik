<div
  [ngClass]="['trmrk-tree-node', trmrkData.data.value.isHcyNode ? 'trmrk-is-hcy-node' : '', trmrkData.data.value.isExpanded ? 'trmrk-is-expanded' : '']"
>
  <trmrk-panel-list-item
    [trmrkMainText]="data.nodeValue.text"
    [trmrkLeadingIconTemplate]="treeNodeIcon"
    [trmrkIsExpandable]="data.isHcyNode"
    [trmrkIsExpanded]="data.isExpanded ?? false"
    (trmrkExpandedToggled)="expandedToggled($event)"
    (trmrkCheckBoxToggled)="checkBoxToggled($event)"
    (trmrkLeadingBtnShortPressOrLeftClick)="nodeIconShortPressOrLeftClick($event)"
    (trmrkLeadingBtnLongPressOrRightClick)="nodeIconLongPressOrRightClick($event)"
    (trmrkColorLabelBtnShortPressOrLeftClick)="nodeColorLabelShortPressOrLeftClick($event)"
    (trmrkColorLabelBtnLongPressOrRightClick)="nodeColorLabelLongPressOrRightClick($event)"
    (trmrkTextShortPressOrLeftClick)="nodeTextShortPressOrLeftClick($event)"
    (trmrkTextLongPressOrRightClick)="nodeTextLongPressOrRightClick($event)"
  ></trmrk-panel-list-item>
  @if (showChildNodes) {
  <div class="trmrk-child-nodes">
    @for (node of childNodes; track node.nodeValue.id) {
    <trmrk-tree-node
      [trmrkTreeData]="trmrkTreeData"
      [trmrkData]="trmrkData.childNodes![$index]"
    ></trmrk-tree-node>
    }
  </div>
  }
</div>

<ng-template #treeNodeIcon>
  <mat-icon class="trmrk-icon trmrk-leading-icon">folder</mat-icon>
</ng-template>
